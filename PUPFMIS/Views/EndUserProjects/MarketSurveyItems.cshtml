@model IEnumerable<PUPFMIS.Models.MarketSurvey>
<div class="row">
    <div class="col-sm-12">
        <h5>Market Survey Item List</h5>
        <hr />
        <div class="row">
            <div class="col-sm-12">
                <div class="card-body table-responsive p-sm-0">
                    <table class="table table-striped table-hover" id="msItemsList">
                        <thead>
                            <tr>
                                <th style="text-align:center;" width="30%">
                                    Item Specifications
                                </th>
                                <th style="text-align:center;" width="25%">
                                    Supplier and Price Information
                                </th>
                                <th style="text-align:center;" width="15%">
                                    Total Quantity
                                </th>
                                <th style="text-align:center;" width="20%">
                                    Total Estimated Budget
                                </th>
                                <th style="text-align:center;" width="20%">
                                    Action
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model != null)
                            {
                                foreach (var item in Model)
                                {
                                    <tr>
                                        <td>
                                            @Html.HiddenFor(m => item.FKItem.ID)
                                            @if (item.FKItem.ItemImage != null)
                                            {
                                                var base64 = Convert.ToBase64String(item.FKItem.ItemImage);
                                                var imgsrc = string.Format("data:image/jpg;base64,{0}", base64);
                                                <img src='@imgsrc' style="max-width:50px;max-height:50px" />
                                            }
                                            <br />
                                            <b><i>@Html.DisplayFor(m => item.FKItem.ItemCode)</i></b> - <b>@Html.DisplayFor(m => item.FKItem.ItemName).ToString().ToUpper()</b>
                                            <br />
                                            <i>@Html.DisplayFor(m => item.FKItem.ItemSpecifications)</i>
                                            <br />
                                            <b>@Html.LabelFor(m => item.FKItem.FKIndividualUnitReference) :</b> @Html.DisplayFor(m => item.FKItem.FKIndividualUnitReference.UnitName).ToString().ToUpper()
                                        </td>
                                        <td>
                                            <b>SUPPLIER 1:</b>
                                            <br />
                                            @Html.HiddenFor(m => item.FkSupplierReference1.ID)
                                            <b>Supplier Name</b> : @Html.DisplayFor(m => item.FkSupplierReference1.SupplierName)
                                            <br />
                                            <b>Address</b> : @Html.DisplayFor(m => item.FkSupplierReference1.Address)
                                            <br />
                                            <b>Unit Cost</b> : @Html.DisplayFor(m => item.Supplier1UnitCost)
                                            <br />
                                            <b>Estimated Budget</b> : @Html.DisplayFor(m => item.Supplier1EstimatedBudget)
                                            <br />
                                            <br />
                                            <b>SUPPLIER 2:</b>
                                            <br />
                                            @Html.HiddenFor(m => item.FkSupplierReference2.ID)
                                            <b>Supplier Name</b> : @Html.DisplayFor(m => item.FkSupplierReference2.SupplierName)
                                            <br />
                                            <b>Address</b> : @Html.DisplayFor(m => item.FkSupplierReference2.Address)
                                            <br />
                                            <b>Unit Cost</b> : @Html.DisplayFor(m => item.Supplier2UnitCost)
                                            <br />
                                            <b>Estimated Budget</b> : @Html.DisplayFor(m => item.Supplier2EstimatedBudget)
                                            <br />
                                            <br />
                                            <b>SUPPLIER 3:</b>
                                            <br />
                                            @Html.HiddenFor(m => item.FkSupplierReference3.ID)
                                            <b>Supplier Name</b> : @Html.DisplayFor(m => item.FkSupplierReference3.SupplierName)
                                            <br />
                                            <b>Address</b> : @Html.DisplayFor(m => item.FkSupplierReference3.Address)
                                            <br />
                                            <b>Unit Cost</b> : @Html.DisplayFor(m => item.Supplier3UnitCost)
                                            <br />
                                            <b>Estimated Budget</b> : @Html.DisplayFor(m => item.Supplier3EstimatedBudget)
                                        </td>
                                        <td style="text-align:center; vertical-align:middle;">
                                            @Html.DisplayFor(m => item.TotalQty)
                                        </td>
                                        <td style="text-align:center; vertical-align:middle;">
                                            @Html.DisplayFor(m => item.TotalEstimatedBudget)
                                        </td>
                                        <td></td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>